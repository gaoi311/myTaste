(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15b1a944","chunk-2d21a055"],{3369:function(t,e,a){"use strict";var s=a("c210"),i=a.n(s);i.a},"5e0b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-header",[a("Header")],1),a("el-main",[a("el-row",[a("el-col",{attrs:{span:18,offset:3}},[a("h1",[t._v(t._s(t.city.name))])])],1),a("el-row",[a("el-col",{attrs:{span:18,offset:3}},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"景点",name:"first"}}),a("el-tab-pane",{attrs:{label:"酒店",name:"second"}})],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"first"===t.activeName,expression:"activeName==='first'"}]},[a("el-row",[a("el-col",{attrs:{span:18,offset:3}},[a("h2",[t._v("景点概括")]),a("p",[t._v(t._s(t.city.summary))])]),a("el-col",{staticStyle:{position:"absolute",right:"150px","margin-top":"30px"},attrs:{span:2}},[a("router-link",{attrs:{to:"/scenes/"+t.city.id}},[t._v("查看景点详情")])],1)],1),a("el-row",[a("el-col",{attrs:{span:18,offset:3}},[a("ul",{staticClass:"scenic-list clearfix"},t._l(t.scenes,(function(e){return a("li",{key:e.id,staticClass:"scenes_list"},[a("router-link",{staticClass:"img_a",staticStyle:{color:"#333","font-size":"14px"},attrs:{to:"/scene/"+e.id,target:"_blank"}},[a("div",{staticClass:"img"},[a("img",{attrs:{src:t.mainPhotoSrc(e.main_photo),width:"192",height:"130"}})]),a("h3",[t._v(t._s(e.name))])])],1)})),0)])],1),a("hr")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"second"===t.activeName,expression:"activeName==='second'"}]},[a("el-row",[a("el-col",{attrs:{span:18,offset:3}},[a("h2",[t._v("酒店")])]),a("el-col",{staticStyle:{position:"absolute",right:"150px","margin-top":"30px"},attrs:{span:2}},[a("router-link",{attrs:{to:"/hotelslist/"+t.city.id}},[t._v("查看酒店详情")])],1)],1),a("hr"),a("el-row",[a("el-col",{attrs:{span:18,offset:3}},[a("ul",{staticClass:"scenic-list clearfix"},t._l(t.hotels,(function(e){return a("li",{key:e.id,staticClass:"scenes_list"},[a("router-link",{staticClass:"img_a",staticStyle:{color:"#333","font-size":"14px"},attrs:{to:"/hotel/"+e.id,target:"_blank"}},[a("div",{staticClass:"img"},[a("img",{attrs:{src:t.mainPhotoSrc(e.main_photo),width:"192",height:"130"}})]),a("h3",[t._v(t._s(e.name))])])],1)})),0)])],1)],1),a("el-pagination",{staticStyle:{"text-align":"center"},attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,total:t.itemsCount},on:{"current-change":t.handleCurrentChange}})],1)],1)},i=[],n=(a("99af"),a("b0c0"),a("9898")),c=(a("ba77"),{name:"City",data:function(){return{id:0,pageSize:8,itemsCount:0,page:1,city:void 0,activeName:"first",scenes:[],hotels:[]}},computed:{mainPhotoSrc:function(){return function(t){return"".concat(this.$settings.HOST).concat(t)}}},methods:{getCity:function(t){var e=this;this.$axios({url:"".concat(this.$settings.HOST,"/city/").concat(t,"/"),method:"GET"}).then((function(t){e.city=t.data})).catch((function(t){alert(t.response.data)}))},getScenes:function(t){var e=this;this.$axios({url:"".concat(this.$settings.HOST,"/scenes/").concat(t,"/"),method:"GET",params:{page:this.page,page_size:this.pageSize}}).then((function(t){e.scenes=t.data.results,e.itemsCount=t.data.count})).catch((function(t){alert(t.response.data)}))},getHotels:function(t){var e=this;this.$axios({url:"".concat(this.$settings.HOST,"/hotelslist/").concat(t,"/"),method:"GET",params:{page:this.page,page_size:this.pageSize}}).then((function(t){e.hotels=t.data.results,e.itemsCount=t.data.count})).catch((function(t){alert(t.response.data)}))},handleCurrentChange:function(t){switch(this.page=t,this.activeName){case"first":this.getScenes(this.id);break;case"second":this.getHotels(this.id);break}},handleClick:function(t,e){"first"===t.name?(this.page=1,this.getScenes(this.id)):"second"===t.name&&(this.page=1,this.getHotels(this.id))}},created:function(){this.id=this.$route.params.id,this.getCity(this.id),this.getScenes(this.id)},components:{Header:n["default"]}}),o=c,l=(a("3369"),a("2877")),r=Object(l["a"])(o,s,i,!1,null,"370b1610",null);e["default"]=r.exports},ba77:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"景点",name:"first"}},[t._v("景点")]),a("el-tab-pane",{attrs:{label:"酒店",name:"second"}},[t._v("酒店")]),a("el-tab-pane",{attrs:{label:"火车票",name:"third"}},[t._v("火车票")]),a("el-tab-pane",{attrs:{label:"攻略",name:"fourth"}},[t._v("攻略")])],1)},i=[],n={name:"CityHeader",data:function(){return{activeName:"first"}},methods:{handleClick:function(t,e){console.log(t,e)}}},c=n,o=a("2877"),l=Object(o["a"])(c,s,i,!1,null,null,null);e["default"]=l.exports},c210:function(t,e,a){}}]);
//# sourceMappingURL=chunk-15b1a944.ce229705.js.map