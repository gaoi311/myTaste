{"version":3,"sources":["webpack:///./src/components/Travel/Scene.vue?a789","webpack:///src/components/Travel/Scene.vue","webpack:///./src/components/Travel/Scene.vue?b0a7","webpack:///./src/components/Travel/Scene.vue?08de","webpack:///./src/components/Travel/Scene.vue?90c8"],"names":["render","_vm","this","_h","$createElement","_c","_self","on","getUser","attrs","_v","_s","scene","name","ename","staticStyle","newComment","main_photo","summary","phone","website","advice_time","address","traffic","open_time","tips","updated_time","staticClass","_l","comment","key","id","mainPhotoSrc","user_info","avatar","username","class","score2Stars","score","content","created_time","pageSize","commentsCount","handleCurrentChange","dialogFormVisible","$event","form","formLabelWidth","colors","model","value","callback","$$v","$set","expression","slot","onSubmit","staticRenderFns","component"],"mappings":"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","file":"js/chunk-5a85b43c.1e00814a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('el-header',[_c('Header',{on:{\"user\":_vm.getUser}})],1),_c('el-main',[_c('el-row',{attrs:{\"id\":\"summary\"}},[_c('el-col',{attrs:{\"span\":18,\"offset\":3}},[_c('el-row',[_c('el-col',{attrs:{\"span\":22}},[_c('h1',[_vm._v(_vm._s(_vm.scene.name))])]),_c('el-row',[_c('el-col',{attrs:{\"span\":22}},[_c('p',[_vm._v(_vm._s(_vm.scene.ename))])])],1)],1),_c('hr'),_c('el-row',[_c('a',{attrs:{\"href\":\"#summary\"}},[_vm._v(\"概括\")]),_c('a',{staticStyle:{\"margin-left\":\"50px\"},attrs:{\"href\":\"#comment\"}},[_vm._v(\"评论\")]),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.newComment}},[_vm._v(\" 我要评论 \")])],1),_c('hr'),_c('el-row',[_c('img',{attrs:{\"src\":_vm.scene.main_photo,\"alt\":\"\"}}),_c('p',{staticStyle:{\"margin-top\":\"50px\"}},[_vm._v(_vm._s(_vm.scene.summary))])]),_c('hr'),_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('p',[_vm._v(\"电话\")]),_c('p',[_vm._v(_vm._s(_vm.scene.phone))])]),_c('el-col',{attrs:{\"span\":8}},[_c('p',[_vm._v(\"网址\")]),_c('el-link',{attrs:{\"type\":\"primary\",\"href\":_vm.scene.website}},[_vm._v(_vm._s(_vm.scene.website))])],1),_c('el-col',{attrs:{\"span\":8}},[_c('p',[_vm._v(\"用时参考\")]),_c('p',[_vm._v(_vm._s(_vm.scene.advice_time))])])],1),_c('el-row',{staticStyle:{\"margin-top\":\"20px\"}},[_c('p',[_vm._v(_vm._s(_vm.scene.address))])]),_c('el-row',{staticStyle:{\"margin-top\":\"20px\"}},[_c('p',[_vm._v(\"交通\")]),_c('p',[_vm._v(_vm._s(_vm.scene.traffic))])]),_c('el-row',{staticStyle:{\"margin-top\":\"20px\"}},[_c('p',[_vm._v(\"开放时间\")]),_c('p',[_vm._v(_vm._s(_vm.scene.open_time))])]),_c('el-row',{staticStyle:{\"margin-top\":\"20px\"}},[_c('p',[_vm._v(\"小提示\")]),_c('p',[_vm._v(_vm._s(_vm.scene.tips))])]),_c('el-row',{staticStyle:{\"margin-top\":\"20px\",\"font-size\":\"10px\"}},[_c('p',[_vm._v(\"最后修改时间\"+_vm._s(_vm.scene.updated_time))])])],1)],1),_c('hr'),_c('el-row',{attrs:{\"id\":\"comment\"}},[_c('el-col',{attrs:{\"span\":18,\"offset\":3}},[_c('div',{staticClass:\"rev-list\"},[_c('ul',{staticStyle:{\"list-style\":\"none\"}},_vm._l((_vm.comments),function(comment){return _c('li',{key:comment.id,staticClass:\"rev-item comment-item clearfix\"},[_c('div',{staticClass:\"user\"},[_c('router-link',{staticClass:\"avatar\",attrs:{\"to\":'/user/' + 1,\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":_vm.mainPhotoSrc(comment.user_info.avatar),\"width\":\"48\",\"height\":\"48\"}})])],1),_c('router-link',{staticClass:\"name\",attrs:{\"to\":'/user/' + 1,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(comment.user_info.username)+\" \")]),_c('span',{staticClass:\"s-star\",class:_vm.score2Stars(comment.score)}),_c('p',{staticClass:\"rev-txt\"},[_vm._v(\" \"+_vm._s(comment.content)+\" \")]),_c('div',{staticClass:\"info clearfix\"},[_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(comment.created_time))])])],1)}),0)])])],1),_c('el-pagination',{staticStyle:{\"text-align\":\"center\",\"margin-top\":\"20px\",\"margin-bottom\":\"40px\"},attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"page-size\":_vm.pageSize,\"total\":_vm.commentsCount},on:{\"current-change\":_vm.handleCurrentChange}}),_c('el-dialog',{attrs:{\"title\":'发布您的评论-' + _vm.scene.name + '-酒店',\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"评分\",\"label-width\":_vm.formLabelWidth}},[_c('el-rate',{attrs:{\"colors\":_vm.colors},model:{value:(_vm.form.score),callback:function ($$v) {_vm.$set(_vm.form, \"score\", $$v)},expression:\"form.score\"}})],1),_c('el-form-item',{attrs:{\"label\":\"内容\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"此处发表您的评论\"},model:{value:(_vm.form.content),callback:function ($$v) {_vm.$set(_vm.form, \"content\", $$v)},expression:\"form.content\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"确 定\")])],1)],1)],1),_c('el-footer',[_c('Footer')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-container>\n        <el-header>\n            <Header v-on:user=\"getUser\"></Header>\n        </el-header>\n        <el-main>\n            <el-row id=\"summary\">\n                <el-col :span=\"18\" :offset=\"3\">\n                    <el-row>\n                        <el-col :span=\"22\">\n                            <h1>{{scene.name}}</h1>\n                        </el-col>\n                        <el-row>\n                            <el-col :span=\"22\">\n                                <p>{{scene.ename}}</p>\n                            </el-col>\n                            <!--<el-col :span=\"2\">-->\n                            <!--<a href=\"#\">加入收藏</a>-->\n                            <!--</el-col>-->\n                        </el-row>\n                    </el-row>\n                    <hr>\n                    <el-row>\n                        <a href=\"#summary\">概括</a><a href=\"#comment\" style=\"margin-left: 50px\">评论</a>\n                        <el-button type=\"primary\" @click=\"newComment\" size=\"small\" style=\"float: right\">\n                            我要评论\n                        </el-button>\n                    </el-row>\n                    <hr>\n                    <el-row>\n                        <img :src=\"scene.main_photo\"\n                             alt=\"\">\n                        <p style=\"margin-top: 50px\">{{scene.summary}}</p>\n                    </el-row>\n                    <hr>\n\n                    <el-row>\n                        <el-col :span=\"8\">\n                            <p>电话</p>\n                            <p>{{scene.phone}}</p>\n                        </el-col>\n                        <el-col :span=\"8\">\n                            <p>网址</p>\n                            <el-link type=\"primary\" :href=\"scene.website\">{{scene.website}}</el-link>\n                        </el-col>\n                        <el-col :span=\"8\">\n                            <p>用时参考</p>\n                            <p>{{scene.advice_time}}</p>\n                        </el-col>\n                    </el-row>\n                    <el-row style=\"margin-top: 20px\">\n                        <p>{{scene.address}}</p>\n                    </el-row>\n                    <el-row style=\"margin-top: 20px\">\n                        <p>交通</p>\n                        <p>{{scene.traffic}}</p>\n                    </el-row>\n                    <el-row style=\"margin-top: 20px\">\n                        <p>开放时间</p>\n                        <p>{{scene.open_time}}</p>\n                    </el-row>\n                    <el-row style=\"margin-top: 20px\">\n                        <p>小提示</p>\n                        <p>{{scene.tips}}</p>\n                    </el-row>\n                    <el-row style=\"margin-top: 20px;font-size: 10px\">\n                        <p>最后修改时间{{scene.updated_time}}</p>\n                    </el-row>\n                </el-col>\n            </el-row>\n            <hr>\n            <el-row id=\"comment\">\n                <el-col :span=\"18\" :offset=\"3\">\n                    <div class=\"rev-list\">\n                        <ul style=\"list-style: none\">\n                            <li class=\"rev-item comment-item clearfix\" v-for=\"comment in comments\" :key=\"comment.id\">\n                                <div class=\"user\">\n                                    <router-link class=\"avatar\" :to=\"'/user/' + 1\" target=\"_blank\"><img\n                                            :src=\"mainPhotoSrc(comment.user_info.avatar)\"\n                                            width=\"48\" height=\"48\">\n                                    </router-link>\n                                </div>\n                                <router-link class=\"name\" :to=\"'/user/' + 1\" target=\"_blank\">\n                                    {{comment.user_info.username}}\n                                </router-link>\n                                <span class=\"s-star\" :class=\"score2Stars(comment.score)\"></span>\n                                <p class=\"rev-txt\">\n                                    {{comment.content}}\n                                </p>\n\n                                <div class=\"info clearfix\">\n                                    <span class=\"time\">{{comment.created_time}}</span>\n                                </div>\n                            </li>\n                        </ul>\n                    </div>\n                </el-col>\n            </el-row>\n            <el-pagination\n                    background\n                    layout=\"prev, pager, next\"\n                    :page-size=\"pageSize\"\n                    :total=\"commentsCount\"\n                    @current-change=\"handleCurrentChange\"\n                    style=\"text-align: center; margin-top: 20px;margin-bottom: 40px\">\n            </el-pagination>\n\n            <!--新增评论-->\n            <el-dialog :title=\"'发布您的评论-' + scene.name + '-酒店'\" :visible.sync=\"dialogFormVisible\">\n                <el-form :model=\"form\">\n                    <el-form-item label=\"评分\" :label-width=\"formLabelWidth\">\n                        <el-rate\n                                v-model=\"form.score\"\n                                :colors=\"colors\">\n                        </el-rate>\n                    </el-form-item>\n                    <el-form-item label=\"内容\" :label-width=\"formLabelWidth\">\n                        <el-input type=\"textarea\" v-model=\"form.content\" placeholder=\"此处发表您的评论\"></el-input>\n                    </el-form-item>\n                </el-form>\n                <div slot=\"footer\" class=\"dialog-footer\">\n                    <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n                    <el-button type=\"primary\" @click=\"onSubmit\">确 定</el-button>\n                </div>\n            </el-dialog>\n        </el-main>\n        <el-footer>\n            <Footer></Footer>\n        </el-footer>\n    </el-container>\n</template>\n\n<script>\n    import Header from '@/components/Common/Header'\n    import Footer from '@/components/Common/Footer';\n\n    export default {\n        name: \"Scene\",\n        data() {\n            return {\n                uid: 0,\n                id: 0,\n                scene: undefined,\n                comments: [],\n                pageSize: 10,\n                commentsCount: 0,\n                page: 1,\n                dialogFormVisible: false,\n                form: {\n                    score: 0,\n                    content: '',\n                },\n                formLabelWidth: '120px',\n                colors: ['#99A9BF', '#F7BA2A', '#FF9900']\n            }\n        },\n        computed: {\n            mainPhotoSrc() {\n                return mainPhoto => {\n                    return `${this.$settings.HOST}${mainPhoto}`;\n                }\n            },\n            score2Stars() {\n                return score => {\n                    let star = \"s-star0\";\n                    switch (score) {\n                        case 1:\n                            star = \"s-star1\";\n                            break;\n                        case 2:\n                            star = \"s-star2\";\n                            break;\n                        case 3:\n                            star = \"s-star3\";\n                            break;\n                        case 4:\n                            star = \"s-star4\";\n                            break;\n                        case 5:\n                            star = \"s-star5\";\n                            break;\n                    }\n                    return star\n                }\n            }\n        },\n        methods: {\n            getUser(e) {\n                this.uid = e;\n            },\n            getScene(id) {\n                this.$axios({\n                    url: `${this.$settings.HOST}/scene/${id}/`,\n                    method: \"GET\",\n                }).then(response => {\n                    this.scene = response.data;\n                }).catch(error => {\n                    alert(error.response.data);\n                })\n            },\n            getSceneComments(id) {\n                this.$axios({\n                    url: `${this.$settings.HOST}/scene_comments/${id}/`,\n                    method: 'GET',\n                    params: {\n                        page: this.page,\n                        page_size: this.pageSize\n                    }\n                }).then(response => {\n                    this.comments = response.data.results;\n                    this.commentsCount = response.data.count;\n                }).catch(error => {\n                    alert(error.response);\n                })\n            },\n            handleCurrentChange(page) {\n                this.page = page;\n                location.href = '#comment';\n                this.getSceneComments(this.id);\n            },\n            open() {\n                this.$confirm('亲，发表评论需要登录哦, 前往登录?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    this.$router.push('/login')\n                })\n            },\n            newComment() {\n                if (!this.uid) {\n                    this.open();\n                } else {\n                    this.dialogFormVisible = true;\n                }\n            },\n            onSubmit() {\n                this.dialogFormVisible = false;\n                this.$axios({\n                    url: `${this.$settings.HOST}/scene_comment/`,\n                    method: 'POST',\n                    data: {\n                        user: this.uid,\n                        content: this.form.content,\n                        score: this.form.score,\n                        scene: this.id\n                    }\n                }).then(response => {\n                    this.$message.success(\"评论发布成功！\")\n                }).catch(error => {\n                    alert(\"啊呀，出错啦！请重试!\");\n                });\n                this.form.score = 0;\n                this.form.content = \"\";\n                this.$axios({\n                    url: `${this.$settings.HOST}/user/new_loved_scene/`,\n                    method: 'POST',\n                    data: {\n                        user: this.uid,\n                        type: 2,\n                        scene: this.id\n                    }\n                }).catch(error => {\n                    alert(\"啊呀，出错啦！请重试!\");\n                });\n            }\n        },\n        created() {\n            this.id = this.$route.params.id;\n            this.getScene(this.id);\n            this.getSceneComments(this.id);\n            this.getUser();\n        },\n        components: {\n            Footer,\n            Header\n        }\n    }\n</script>\n\n<style scoped>\n    .rev-list {\n        /*padding: 0 30px;*/\n        border-bottom: 1px solid #eee\n    }\n\n    .rev-item {\n        padding: 25px 0 20px 70px;\n        border-bottom: 1px dashed #dedede\n    }\n\n    .rev-item .time {\n        color: #999;\n        margin-right: 20px\n    }\n\n    .rev-item:last-child {\n        border-bottom: 0\n    }\n\n    .s-star {\n        display: block;\n        width: 67px;\n        height: 13px;\n        background: url(\"../../../static/image/shopping-icons3.png\") no-repeat -60px -90px;\n        overflow: hidden\n    }\n\n    .s-star5 {\n        background-position: -61px -90px\n    }\n\n    .s-star4 {\n        background-position: -74px -90px\n    }\n\n    .s-star3 {\n        background-position: -87px -90px\n    }\n\n    .s-star2 {\n        background-position: -101px -90px\n    }\n\n    .s-star1 {\n        background-position: -114px -90px\n    }\n\n    .s-star0 {\n        background-position: -128px -90px\n    }\n\n    .rev-item .s-star {\n        display: inline-block;\n        margin: 0 5px;\n        vertical-align: -1px;\n        *vertical-align: middle\n    }\n\n    .rev-item .user {\n        float: left;\n        margin-left: -70px;\n        display: inline;\n        text-align: center\n    }\n\n    .rev-item .avatar {\n        display: block;\n        margin-bottom: 5px;\n        width: 48px;\n        height: 48px;\n        border-radius: 50%;\n        overflow: hidden\n    }\n\n    .rev-item .name {\n        font-size: 14px;\n        color: #e38d13;\n    }\n\n    .rev-txt {\n        margin: 8px 0 10px;\n        font-size: 14px;\n        line-height: 22px\n    }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scene.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scene.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Scene.vue?vue&type=template&id=9e48f01a&scoped=true&\"\nimport script from \"./Scene.vue?vue&type=script&lang=js&\"\nexport * from \"./Scene.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Scene.vue?vue&type=style&index=0&id=9e48f01a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9e48f01a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scene.vue?vue&type=style&index=0&id=9e48f01a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scene.vue?vue&type=style&index=0&id=9e48f01a&scoped=true&lang=css&\""],"sourceRoot":""}