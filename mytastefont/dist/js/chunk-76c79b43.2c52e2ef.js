(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76c79b43"],{"74e4":function(e,r,t){"use strict";var a=t("c68b"),s=t.n(a);s.a},c68b:function(e,r,t){},fa84:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-container",[t("el-header",[t("Header")],1),t("el-main",{staticStyle:{"margin-left":"35%",width:"30%","margin-top":"50px"}},[t("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{model:{value:e.form.username,callback:function(r){e.$set(e.form,"username",r)},expression:"form.username"}})],1),t("el-form-item",{attrs:{label:"性别",prop:"resource"}},[t("el-radio-group",{model:{value:e.form.gender,callback:function(r){e.$set(e.form,"gender",r)},expression:"form.gender"}},e._l(e.genderOption,(function(r){return t("el-radio",{key:r.value,attrs:{label:r.value}},[e._v(e._s(r.label)+" ")])})),1)],1),t("el-form-item",{attrs:{label:"生日"}},[t("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.form.birth,callback:function(r){e.$set(e.form,"birth",r)},expression:"form.birth"}})],1),t("el-form-item",{attrs:{label:"详细地址"}},[t("el-input",{model:{value:e.form.address,callback:function(r){e.$set(e.form,"address",r)},expression:"form.address"}})],1),t("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[t("el-input",{model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}})],1),t("el-form-item",[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.updateInfo}},[e._v("修改")])],1)],1)],1)],1)},s=[],o=(t("99af"),t("9898")),l={name:"UserInfo",data:function(){var e=this,r=function(r,t,a){var s=/^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/;""===t&&(e.checkFlag=!0,a()),s.test(t)||(e.checkFlag=!1,a(new Error("邮箱格式不对哦！"))),e.checkFlag=!0,a()};return{uid:0,user:void 0,checkFlag:!0,form:{username:"",gender:"",birth:"",address:"",email:""},rules:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"}],email:[{validator:r,trigger:"blur"}]},genderOption:[{label:"男",value:1},{label:"女",value:2},{label:"保密",value:3}]}},methods:{getUserInfo:function(e){var r=this;this.$axios({url:"".concat(this.$settings.HOST,"/user/info/").concat(e,"/"),method:"GET"}).then((function(e){r.user=e.data,r.form.username=r.user.username,r.form.gender=r.user.gender,r.form.birth=r.user.birth,r.form.address=r.user.address,r.form.email=r.user.email})).catch((function(e){alert(e.response)}))},updateInfo:function(){var e=this;this.checkFlag&&this.$axios({url:"".concat(this.$settings.HOST,"/user/info/").concat(this.uid,"/"),method:"PUT",data:{username:this.form.username,gender:this.form.gender,birth:this.form.birth,address:this.form.address,email:this.form.email}}).then((function(r){e.$message.success("修改成功！"),e.$router.push("/self")})).catch((function(r){var t="";for(var a in r.response.data)t=r.response.data[a][0];e.$message.error(t)}))}},created:function(){this.uid=localStorage.uid,this.getUserInfo(this.uid)},components:{Header:o["default"]}},n=l,i=(t("74e4"),t("2877")),u=Object(i["a"])(n,a,s,!1,null,"a3a8ed7e",null);r["default"]=u.exports}}]);
//# sourceMappingURL=chunk-76c79b43.2c52e2ef.js.map