{"version":3,"sources":["webpack:///./src/components/User/UserInfo.vue?7dcf","webpack:///./src/components/User/UserInfo.vue?7d27","webpack:///src/components/User/UserInfo.vue","webpack:///./src/components/User/UserInfo.vue?758c","webpack:///./src/components/User/UserInfo.vue?2226"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","ref","staticClass","attrs","form","rules","model","value","callback","$$v","$set","expression","_l","item","key","_v","_s","label","on","updateInfo","staticRenderFns","component"],"mappings":"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","file":"js/chunk-76c79b43.2c52e2ef.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserInfo.vue?vue&type=style&index=0&id=a3a8ed7e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserInfo.vue?vue&type=style&index=0&id=a3a8ed7e&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('el-header',[_c('Header')],1),_c('el-main',{staticStyle:{\"margin-left\":\"35%\",\"width\":\"30%\",\"margin-top\":\"50px\"}},[_c('el-form',{ref:\"form\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"性别\",\"prop\":\"resource\"}},[_c('el-radio-group',{model:{value:(_vm.form.gender),callback:function ($$v) {_vm.$set(_vm.form, \"gender\", $$v)},expression:\"form.gender\"}},_vm._l((_vm.genderOption),function(item){return _c('el-radio',{key:item.value,attrs:{\"label\":item.value}},[_vm._v(_vm._s(item.label)+\" \")])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"生日\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"value-format\":\"yyyy-MM-dd\",\"placeholder\":\"选择日期\"},model:{value:(_vm.form.birth),callback:function ($$v) {_vm.$set(_vm.form, \"birth\", $$v)},expression:\"form.birth\"}})],1),_c('el-form-item',{attrs:{\"label\":\"详细地址\"}},[_c('el-input',{model:{value:(_vm.form.address),callback:function ($$v) {_vm.$set(_vm.form, \"address\", $$v)},expression:\"form.address\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}})],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateInfo}},[_vm._v(\"修改\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-container>\n        <el-header>\n            <Header></Header>\n        </el-header>\n        <el-main style=\"margin-left: 35%; width: 30%;margin-top: 50px\">\n            <el-form :model=\"form\" :rules=\"rules\" ref=\"form\" label-width=\"100px\" class=\"demo-ruleForm\">\n                <el-form-item label=\"用户名\" prop=\"username\">\n                    <el-input v-model=\"form.username\"></el-input>\n                </el-form-item>\n\n                <el-form-item label=\"性别\" prop=\"resource\">\n                    <el-radio-group v-model=\"form.gender\">\n                        <el-radio :label=\"item.value\" :key=\"item.value\" v-for=\"item in genderOption\">{{item.label}}\n                        </el-radio>\n                    </el-radio-group>\n                </el-form-item>\n\n                <el-form-item label=\"生日\">\n                    <el-date-picker type=\"date\" value-format=\"yyyy-MM-dd\" v-model=\"form.birth\"\n                                    placeholder=\"选择日期\"></el-date-picker>\n                </el-form-item>\n\n\n                <el-form-item label=\"详细地址\">\n                    <el-input v-model=\"form.address\"></el-input>\n                </el-form-item>\n\n                <el-form-item label=\"邮箱\" prop=\"email\">\n                    <el-input v-model=\"form.email\"></el-input>\n                </el-form-item>\n\n                <el-form-item>\n                    <el-button @click=\"updateInfo\" style=\"width: 100%\" type=\"primary\">修改</el-button>\n                </el-form-item>\n            </el-form>\n        </el-main>\n    </el-container>\n</template>\n\n<script>\n    import Header from \"@/components/Common/Header\";\n\n    export default {\n        name: \"UserInfo\",\n        data() {\n            var checkEmail = (rule, value, callback) => {\n                var reg = /^(\\w)+(\\.\\w+)*@(\\w)+((\\.\\w+)+)$/;\n                if (value === '') {\n                    this.checkFlag = true;\n                    callback();\n                }\n                if (!reg.test(value)) {\n                    this.checkFlag = false;\n                    callback(new Error(\"邮箱格式不对哦！\"));\n                }\n                this.checkFlag = true;\n                callback();\n            };\n            return {\n                uid: 0,\n                user: undefined,\n                checkFlag: true,\n\n                form: {\n                    username: '',\n                    gender: '',\n                    birth: '',\n                    address: '',\n                    email: '',\n                },\n                rules: {\n                    username: [\n                        {required: true, message: '用户名不能为空', trigger: 'blur'},\n                    ],\n                    email: [\n                        {validator: checkEmail, trigger: 'blur'}\n                    ],\n                },\n                genderOption: [\n                    {label: \"男\", value: 1},\n                    {label: \"女\", value: 2},\n                    {label: \"保密\", value: 3}\n                ],\n            }\n        },\n        methods: {\n            getUserInfo(id) {\n                this.$axios({\n                    url: `${this.$settings.HOST}/user/info/${id}/`,\n                    method: 'GET',\n                }).then(response => {\n                    this.user = response.data;\n                    this.form.username = this.user.username;\n                    this.form.gender = this.user.gender;\n                    this.form.birth = this.user.birth;\n                    this.form.address = this.user.address;\n                    this.form.email = this.user.email;\n                }).catch(error => {\n                    alert(error.response);\n                })\n            },\n            updateInfo() {\n                if (this.checkFlag) {\n                    this.$axios({\n                        url: `${this.$settings.HOST}/user/info/${this.uid}/`,\n                        method: 'PUT',\n                        data: {\n                            username: this.form.username,\n                            gender: this.form.gender,\n                            birth: this.form.birth,\n                            address: this.form.address,\n                            email: this.form.email\n                        }\n                    }).then(response => {\n                        this.$message.success('修改成功！');\n                        this.$router.push('/self');\n                    }).catch(error => {\n                        let message = \"\";\n                        for (let key in error.response.data) {\n                            message = error.response.data[key][0];\n                        }\n                        this.$message.error(message);\n                    })\n                }\n            }\n        },\n        created() {\n            this.uid = localStorage.uid;\n            this.getUserInfo(this.uid);\n        },\n        components: {\n            Header,\n        },\n\n    }\n</script>\n\n<style scoped>\n    .avatar-uploader .el-upload {\n        border: 1px dashed #d9d9d9;\n        border-radius: 6px;\n        cursor: pointer;\n        position: relative;\n        overflow: hidden;\n    }\n\n    .avatar-uploader .el-upload:hover {\n        border-color: #409EFF;\n    }\n\n    .avatar-uploader-icon {\n        font-size: 28px;\n        color: #8c939d;\n        width: 178px;\n        height: 178px;\n        line-height: 178px;\n        text-align: center;\n    }\n\n    .avatar {\n        width: 178px;\n        height: 178px;\n        display: block;\n    }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserInfo.vue?vue&type=template&id=a3a8ed7e&scoped=true&\"\nimport script from \"./UserInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./UserInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserInfo.vue?vue&type=style&index=0&id=a3a8ed7e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a3a8ed7e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}